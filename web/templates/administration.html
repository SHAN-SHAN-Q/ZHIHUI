{% extends 'layout/basic.html' %}
{% load static %}


{% block title %} 智慧管理 {% endblock %}
{{ num }}

{% block css %}
    <style>
    *{
        margin: 0 auto;
    }
        .navbar{
                margin: 0;
                padding: 0;
            }
        .wai{
            width: 1536px;
            height: 700px;
            background-color: #b3b1b1;
        }
        .left{
            width: 400px;
            height: 690px;
            background-color: #e8e8e8;
            float:left;
            margin: 5px;
        }
        .center{
            width: 965px;
            height: 480px;
            background-color: #d5d4d4;
            float:left;
            margin: 5px 5px 5px 0;
        }
        .right{
            width: 151px;
            height: 480px;
            background-color: #d3d4d3;
            float:right;
            margin: 5px 5px 5px 0;
        }
        .xia{
            width: 1121px;
            height: 205px;
            background-color: #c7c7c7;
            float:right;
            margin: 0px 5px 5px 0;
        }
    #zhu{
        min-width:1120px;
        height:162px;
    }
    .panel-body{
        margin: 0;
        padding: 0;
    }
    #bin{
        height: 320px;
    }
    #zhuzhuang{
        height: 328px;
    }
    .LU{
			margin: 0px 0px;
			width: auto;/*宽度*/
			height: 50px;/*长度*/
			padding: 0px;
		}
    .LI{
			margin: 4px 4px 2px 4px;
			width: 141px;
			height: auto;
			list-style-type: none;/* 去掉li的点 */
			float: left;
		}
    .A{

			margin: 0px 0px;
			display: block;/*将a变成块*/
			width: auto;
			height: auto;
			font-family: 微软雅黑;
			line-height: 50px;/*设置字体高度*/
			background-color: #fdfdfc;
			color: #393939;
			text-align: center;/*字体居中*/
			text-decoration: none;/*去掉下划线*/
			font-size: 15px;

    }
    a:hover{
			background-color: #f5eded;
		}
    </style>
{% endblock %}


{% block content %}
    <div class="wai">
        <div class="left panel panel-default">
                <div class="panel-heading">
                    <i class="fa fa-caret-square-o-right" aria-hidden="true"></i>
                    数据分析
                </div>
                <div class="panel-body">
                    <div id="container">
                        <div class="#">
                            <div id="bin"></div>
                            <div id="zhuzhuang"></div>
                        </div>
                    </div>
                </div>
        </div>
        <div class="center panel panel-default">
                <div class="panel-heading">
                    <i class="fa fa-caret-square-o-right" aria-hidden="true"></i>
                    地图
                </div>
                <div class="panel-body">
                    <div id="container">
                        <div class="#">
                            <img src="/static/img/school/校园地图{{ num }}.gif" width="963px" height="437px">
                        </div>
                    </div>
                </div>
        </div>
        <div class="right panel panel-default">
                <div class="panel-heading">
                    <i class="fa fa-caret-square-o-right" aria-hidden="true"></i>
                    学生
                </div>
                <div class="panel-body">
                    <div id="container">
                        <div class="#">
                            <ul class="LU">
                                <li class="LI panel panel-default"><a class="A" href="1">1990101黄意山</a></li>
                                <li class="LI panel panel-default"><a class="A" href="2">1990102颜睿</a></li>
                                <li class="LI panel panel-default"><a class="A" href="0">1990103田菊艳</a></li>
                                <li class="LI panel panel-default"><a class="A" href="0">1990101杨红艳</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
        </div>
        <div class="xia panel panel-default">
                <div class="panel-heading">
                    <i class="fa fa-caret-square-o-right" aria-hidden="true"></i>
                    进出统计
                </div>
                <div class="panel-body">
                    <div id="container">
                        <div id="zhu" ></div>
                    </div>
                </div>
        </div>



    </div>

{% endblock %}


{% block js %}
        <script src="https://code.highcharts.com.cn/highcharts/highcharts.js"></script>
        <script src="https://code.highcharts.com.cn/highcharts/modules/exporting.js"></script>
        <script src="https://code.highcharts.com.cn/highcharts/modules/oldie.js"></script>
        <script src="https://img.hcharts.cn/highcharts-plugins/highcharts-zh_CN.js"></script>
        <script src="https://code.highcharts.com.cn/highcharts/highcharts-3d.js"></script>
        <script src="https://code.highcharts.com.cn/highcharts/themes/sand-signika.js"></script>
        <script src="https://code.highcharts.com.cn/highcharts/modules/cylinder.js"></script>
<script>
{#    条形图#}
       var chart = Highcharts.chart('zhu', {
    chart: {
        type: 'bar'
    },
    title: {
        text: null
    },
    xAxis: {
        categories: ['教学楼', '食堂', '图书馆']
    },
    yAxis: {
        min: 0,
        title: {
            text: null
        }
    },
           credits:{
                    enabled: false //关闭版权信息
                },
    legend: {
        /* 图例显示顺序反转
         * 这是因为堆叠的顺序默认是反转的，可以设置
         * yAxis.reversedStacks = false 来达到类似的效果
         */
        reversed: true
    },
    plotOptions: {
        series: {
            stacking: 'normal'
        }
    },
    series: [{
        name: '上午',
        data: [5, 3, 4]
    }, {
        name: '下午',
        data: [2, 2, 3]
    }, {
        name: '晚上',
        data: [3, 4, 4]
    }]
});
    {#   饼图#}
    var chart = Highcharts.chart('bin', {
		chart: {
				type: 'pie',
				options3d: {
						enabled: true,
						alpha: 45,
						beta: 0
				}
		},
		title: {
				text: '学生在不同地点停留占比率'
		},
        credits:{
                    enabled: false //关闭版权信息
                },
		tooltip: {
				pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
		},
		plotOptions: {
				pie: {
						allowPointSelect: true,
						cursor: 'pointer',
						depth: 35,
						dataLabels: {
								enabled: true,
								format: '{point.name}'
						}
				}
		},
		series: [{
				type: 'pie',
				name: '停留时间占比',
				data: [
						['寝室',   45.0],
						['教室',       26.8],
						{
								name: '图书馆',
								y: 12.8,
								sliced: true,
								selected: true
						},
						['食堂',    8.5],
						['实训楼',     6.2],
						['办公楼',   0.7]
				]
		}]
});
    {#柱状图#}
    Highcharts.chart('zhuzhuang', {
	chart: {
		type: 'cylinder',
		options3d: {
			enabled: true,
			alpha: 20,
			beta: 0,
			depth: 0,
			viewDistance: 25
		}
	},
    credits:{
                    enabled: false //关闭版权信息
                },
	title: {
		text: '学生在不同地点停留时长'
	},
	plotOptions: {
		series: {
			depth: 25,
			colorByPoint: true
		}
	},
    yAxis: {
        title: {
            text: '停留时长（h）'
        },
        endOnTick: false,
    },
    xAxis:{
                    categories:['寝室','教室','图书馆','食堂','实训楼','办公楼']
                },
	series: [{
		data: [8, 5.5, 4, 1.2, 1.5, 0.5],
		name: '停留时间（h）',
		showInLegend: false
	}]
});
    </script>
{% endblock %}